<?xml version="1.0"?>
<module>
	<title>Server: Syslog</title>
	<description><![CDATA[Extends server by system log.

Sends mail to developer with exception trace if a developer mail address is defined.
This module can extend normal or server applications but will need an installed application base with mail support.

**Features:**
list>
- stores exceptions into log file (serialized)
- can send mails to one or more mail receivers
<list

**Invokation:**
code>
...
catch( Exception $e ){
	$this->env->getCaptain()->callHook( 'Env', 'logException', $this, array( 'exception' => $e ) );
}
...
<code

If you are sure, that this module is installed, you can use:
code>
...
catch( Exception $e ){
	Controller_Server_Log_Exception::logException( $e );
}
...
<code
Of course, this method is not the best way, since you bind your code to this module.
Please think about using the hook instead.


]]></description>
	<category>Server</category>
	<version>0.4</version>
	<log version="0.1">Initial prototype.</log>
	<log version="0.2">Separation to Hydrogen module.</log>
	<log version="0.2.1">Use new mailer \CeusMedia\Mail from GitHub.</log>
	<log version="0.3">Add mail component for collecting exceptions facts for HTML and text mail.</log>
	<log version="0.3.1">Add exception index and view.</log>
	<log version="0.3.2">Extract hook to own class.</log>
	<log version="0.4">Major overhaul.</log>
	<company site="https://ceusmedia.de/">Ceus Media</company>
	<author email="christian.wuerker@ceusmedia.de">Christian W&#xFC;rker</author>
	<files>
		<class>Controller/Server/Log/Exception.php5</class>
		<class>Hook/Server/Log/Exception.php5</class>
		<class>Mail/Log/Exception.php5</class>
		<class>View/Helper/Mail/Exception/Facts.php5</class>
		<class>View/Server/Log/Exception.php5</class>
		<template>server/log/exception/index.php</template>
		<template>server/log/exception/view.php</template>
		<locale>de/server/log/exception.ini</locale>
		<locale>de/server/log/exception/sqlstate.ini</locale>
	</files>
	<config protected="yes" type="boolean" name="file.active" title="Enable log file">yes</config>
	<config protected="yes" type="string" name="file.name" title="Path of log file">exception.log</config>
	<config protected="yes" type="boolean" name="mail.active" title="Enable sending mails">yes</config>
	<config protected="yes" type="string" name="mail.receivers" title="Mail receiver address[es] (comma separated)"></config>
	<relations>
		<needs type="module">Resource_Mail</needs>
	</relations>
	<hook type="resource" resource="Env" event="logException">Hook_Server_Log_Exception::onEnvLogException</hook>
</module>
